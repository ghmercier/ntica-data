---
title: "TD PLU Bioclimatique"
format: html
---

Dans ce TD, nous allons mettre en pratique certaines compétences acquises
dans les cours précédents et en acquérir de nouvelles sur un cas d'étude : 
le **PLU Bioclimatique** parisien.

Pour mémoire, la Ville de Paris a adopté en novembre 2024 son nouveau plan
local d'urbanisme, appelé « PLU Bioclimatique ». 

La mise en révision avait été engagée en décembre 2020. Après une phase de
concertation, le Conseil de Paris avait arrêté en juin 2023 un projet de
PLU, qui a fait l'objet d'une enquête publique au tout début de 2024.

À cette époque, le dossier d'enquête publique consistait en une multitude
de gros fichiers PDF : pas de géoportail, pas de couches SIG… Si l'on
voulait exploiter les données, il fallait se débrouiller.

Nous allons voir comment !

## Les planches graphiques au 1/2000e

Dans le PLU, l'une des pièce-clés est **l'atlas des planches au 1/2000e.**

Traduction graphique du règlement écrit, ces planches regroupent 
les règles d'urbanisme applicables sur le territoire parisien.

L'atlas est accessible sur le site 
[Règles d'urbanisme de Paris](https://regles-urbanisme.paris.fr/plu-bioclimatique/jsp/site/Portal.jsp?document_id=198&portlet_id=45#consultation_html).
Une carte interactive permet le téléchargement des planches au format PDF.

![](/resources/plu-bio/atlas_planches.jpeg)

### Une planche

Notre objectif : afficher la planche D-03 dans QGIS. Pour cela, on va
la télécharger, la traiter et la géoréférencer.

#### Préparation de l'environnement

- Créer un projet vide dans QGIS
- Sélectionner le SCR 2154 (RGF93v1 / Lambert-93)

Géoréférencer une image, c'est associer à chacun des pixels qui la composent
une coordonnée géographique. Pour cela, il faudra donner à QGIS les
coordonnées géographiques de quelques points de contrôle, il calculera le 
reste.

Pour faciliter la recherche des points de contrôle, il vaut mieux choisir
une couche de référence qui soit proche des données représentées sur
l'image. On affichera ici la couche 
"[Emprise bâtie Paris](https://opendata.apur.org/datasets/Apur::emprise-batie-paris/about)" 
maintenue par l'APUR. Ce sera l'occasion de voir comment utiliser des
géoservices sans télécharger préalablement de données, puisque l'APUR
utilise ArcGIS Server.

- Couche > Ajouter une couche > Ajouter une couche de serveur ArcGIS REST
- URL du serveur : https://carto2.apur.org/apur/rest/services/OPENDATA/ 
- Ajouter la couche Emprise batie Paris au format raster, plus rapide

![](/resources/plu-bio/arcgis_rest.jpeg)
![](/resources/plu-bio/arcgis_emprises.jpeg)

#### Prétraitement de l'image

Il nous faut convertir l'image en JPEG et éliminer le cartouche autour de 
la carte. On utilise pour cela GIMP.

![](/resources/gimp_rognage.jpeg)

Téléchargez [ici](/resources/plu-bio/D_O5.jpg) l'image retraitée.

#### Géoréférencement


### Toutes les planches

Nous avons téléchargé 1 planche. Comment télécharger l'ensemble de l'atlas,
composé de 134 planches ?

<details>

<summary>Solution</summary>

On remarque tout d'abord qu'une 
[liste des planches](https://regles-urbanisme.paris.fr/plu-bioclimatique/servlet/plugins/document/resource?id=751&id_attribute=93&working_content=true) 
est disponible.

C'est un fichier PDF qui compile les liens vers les 134 planches. 
Problème : les liens ne sont pas apparents. 
On peut toujours cliquer manuellement sur les 134 liens, mais c'est long...

Pour l'éviter, plusieurs options : 

- Solution NoCode : extraire la liste des liens avec un utilitaire en ligne
  comme [Supertool](https://supertool.org/fr/extract-urls-and-links-from-pdfs/).
- Solution Code : extraire la liste des liens avec un court script Python, 
  qui mobilise la librairie [`PyMuPDF`](https://github.com/pymupdf/pymupdf).

```{python}
# Test de code
```

</details>
